 <!-- 
    Description of project
-->
 
 <html>
  <head>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script>
    <script src="js/done.js"></script>
    <script src="js/new-geo.js"></script>

  </head>
    <body>
      <a-scene id= "scen" physics="friction: 0.1">
        <a-entity id="rig" position="0 2 4">
          <a-entity id="camera" camera look-controls wasd-controls></a-entity>
          <a-entity cursor="rayOrigin:mouse;"
                    raycaster="far:20; interval:100; objects:.clickable;">
          </a-entity>
        </a-entity>

        <a-assets>
          <img id="skyTexture" src="assets/textures/rocky.jpg">
          <a-asset-item id="corkboardObj" src="assets/models/CorkBoard.obj"></a-asset-item>

          <a-asset-item id="bucketObj" src="assets/models/Bucket.obj"></a-asset-item>

          <a-asset-item id="tableObj" src="assets/models/Table.obj"></a-asset-item>
          
          <a-asset-item id="wallsObj" src="assets/models/Walls.obj"></a-asset-item>
  
        </a-assets>
        <a-sky id="background" src="#skyTexture"></a-sky>

        <a-entity id="ball"
          geometry="primitive: sphere; radius: 0.5"
                    material="color: #4CC3D9; shader: standard"
                    position="-1 5 -4"
                    rotation="0 45 0"
                    dynamic-body= "mass: 1">
        </a-entity>

        <a-entity id="walls"
                    obj-model="obj: #wallsObj"
                    material="src:assets/textures/WallsTexture.png;"
                    position="-1 -7 6"
                    rotation="0 0 0"
                    static-body>
        </a-entity>
        
        <a-entity id="bucket"
                    obj-model="obj: #bucketObj"
                    material="color: purple; shader: standard"
                    position="-1.25 -7 6"
                    rotation="0 0 0"
                    static-body>
        </a-entity>

        <a-entity id="corkBoard"
                    obj-model="obj: #corkboardObj"
                    material="src:assets/textures/CorkBoardTexture.png;"
                    position="-1 -7 6"
                    rotation="0 0 0"
                    static-body>
        </a-entity>

        <a-entity id="table"
                    obj-model="obj: #tableObj"
                    material="src:assets/textures/TableTexture.png;"
                    position="-1 -7 6"
                    rotation="0 0 0"
                    static-body>
        </a-entity>

        <a-entity id="slide1"
          geometry="primitive: box; width: 2; height: 10; depth: 0.5"
                    material="color: red; shader: standard"
                    position="0 3 -4"
                    rotation="-75 90 0"
                    static-body>
        </a-entity>

        <a-entity id="slide2"
          geometry="primitive: box; width: 2; height: 10; depth: 0.5"
                    material="color: red; shader: standard"
                    position="5 0 -4"
                    rotation="-120 90 0"
                    static-body>
        </a-entity>
        
        <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4" static-body></a-plane>
        <a-plane id="glass" position="0 0 -2" rotation="180 0 0" width="20" height="20" color= blue static-body></a-plane>

      </a-scene>

      <script src="/socket.io/socket.io.js"></script>
      <script>
        let socket = io();

        //default connect event
        socket.on('connect', function() {
                console.log("connected!");
        });

        socket.on('generate_shape', function(data) {
          console.log("shape received");

          var z = Math.random() * 9 - 2.5;

          let createdShape = document.createElement('a-entity');
            createdShape.setAttribute('id', 'shape');
            createdShape.setAttribute('new-geo', '');
<<<<<<< HEAD
            createdShape.setAttribute('position', '0, 1, 0');
            createdShape.setAttribute('geometry', 'primitive: new-geo; vertices:' + data); 
            createdShape.setAttribute('material=color:red')
=======
            createdShape.setAttribute('geometry', 'primitive: new-geo; vertices:' + data);
            createdShape.setAttribute('position', '8.2 20 3'); 
            createdShape.setAttribute('rotation', '0 -90 0'); 
            createdShape.setAttribute('animation', 'property: position; to: 8.2 -0.9 0' + (z) + '; loop:false; dur: 1200');
             
>>>>>>> 7fc0a6bb1a5db8940b4505ac897cc9d238a1f9eb
            
            let scene = document.querySelector('a-scene');
            scene.appendChild(createdShape);
        });
      
      </script>
    </body>
</html>